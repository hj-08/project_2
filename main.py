import streamlit as st
import random

st.title("빠른 메뉴 추천 서비스")

mood = st.selectbox("현재 기분을 선택해주세요", ["좋음", "안좋음", "그냥"])
time = st.selectbox("시간대를 선택해주세요", ["아침", "점심", "저녁", "야식"])
budget = st.number_input("예산을 입력해주세요 (원)", min_value=1000, step=500)

menu_data = {
    "아침": {
        "좋음": [
            ("아보카도 토스트", 5500), ("스무디 볼", 7000), ("에그 베네딕트", 12000),
            ("프렌치 토스트", 8000), ("오트밀", 4000), ("그릭 요거트", 4500)
        ],
        "안좋음": [
            ("토스트와 잼", 3500), ("블랙 커피", 2500), ("삶은 달걀", 3000),
            ("베이컨과 계란", 10000), ("바나나", 2000)
        ],
        "그냥": [
            ("시리얼과 우유", 3500), ("베이글과 크림치즈", 6000), ("바나나 팬케이크", 9000),
            ("과일 샐러드", 6500), ("허니 레몬 워터", 3000)
        ]
    },
    "점심": {
        "좋음": [
            ("파스타 카르보나라", 11000), ("그릴 치킨 샐러드", 9000), ("연어 스테이크", 15000),
            ("비빔밥", 8000), ("샌드위치 세트", 7500), ("된장찌개 백반", 7000)
        ],
        "안좋음": [
            ("치킨 너겟과 감자튀김", 8500), ("라면", 4000), ("칼국수", 7000),
            ("김치찌개", 6500), ("떡국", 6000)
        ],
        "그냥": [
            ("김밥", 4000), ("참치 샌드위치", 7000), ("제육볶음 덮밥", 9000),
            ("토마토 스파게티", 8000), ("야채 볶음밥", 7000)
        ]
    },
    "저녁": {
        "좋음": [
            ("스테이크와 구운 채소", 20000), ("해산물 파에야", 18000), ("치즈 퐁듀", 17000),
            ("닭갈비", 13000), ("피자", 15000), ("수제버거", 14000)
        ],
        "안좋음": [
            ("라면", 4000), ("짜장면", 6000), ("볶음밥", 7000),
            ("김치 찌개", 7000), ("치킨 윙", 11000)
        ],
        "그냥": [
            ("피자와 콜라", 16000), ("파스타", 12000), ("돈까스", 11000),
            ("떡볶이", 8000), ("야채 튀김", 7500)
        ]
    },
    "야식": {
        "좋음": [
            ("떡볶이", 7000), ("튀김 모듬", 9000), ("치킨 반 마리", 14000),
            ("쫄면", 7500), ("김치전", 6000)
        ],
        "안좋음": [
            ("라면", 4000), ("즉석 떡볶이", 6500), ("컵밥", 7000),
            ("군만두", 6000), ("오뎅탕", 5000)
        ],
        "그냥": [
            ("김밥", 3000), ("핫도그", 4000), ("순대", 6000),
            ("컵라면", 3500), ("치즈 스틱", 5500)
        ]
    }
}

if st.button("추천받기"):
    possible_menus = menu_data.get(time, {}).get(mood, [])
    affordable_menus = [menu for menu in possible_menus if menu[1] <= budget]

    if not affordable_menus:
        st.write("예산에 맞는 메뉴가 없습니다. 예산을 늘려보세요!")
    else:
        choice = random.choice(affordable_menus)
        st.success(f"추천 메뉴: {choice[0]} (예상 가격: {choice[1]}원)")

