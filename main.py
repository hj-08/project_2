import streamlit as st
import random

st.title("빠른 메뉴 추천 서비스")

# 1. 기분 선택
mood = st.selectbox("현재 기분을 선택해주세요", ["좋음", "안좋음", "그냥"])

# 2. 시간대 선택
time = st.selectbox("시간대를 선택해주세요", ["아침", "점심", "저녁", "야식"])

# 3. 예산 입력
budget = st.number_input("예산을 입력해주세요 (원)", min_value=1000, step=500)

# 메뉴 데이터 (간단한 예시)
menu_data = {
    "아침": {
        "좋음": [("아보카도 토스트", 5000), ("스무디", 5000)],
        "안좋음": [("토스트", 3000), ("커피", 2000)],
        "그냥": [("시리얼", 3000), ("우유", 3000)]
    },
    "점심": {
        "좋음": [("파스타", 10000), ("샐러드", 8000)],
        "안좋음": [("치킨 샐러드", 8000), ("국밥", 7000)],
        "그냥": [("김밥", 4000), ("샌드위치", 5000)]
    },
    "저녁": {
        "좋음": [("스테이크", 15000), ("샐러드", 8000)],
        "안좋음": [("라면", 4000), ("볶음밥", 6000)],
        "그냥": [("피자", 15000), ("콜라", 2000)]
    },
    "야식": {
        "좋음": [("떡볶이", 7000), ("튀김", 7000)],
        "안좋음": [("라면", 4000), ("김치찌개", 6000)],
        "그냥": [("김밥", 3000), ("핫도그", 4000)]
    }
}

# 추천 버튼
if st.button("추천받기"):
    possible_menus = menu_data.get(time, {}).get(mood, [])
    # 예산 이하 메뉴만 필터링
    affordable_menus = [menu for menu in possible_menus if menu[1] <= budget]

    if not affordable_menus:
        st.write("예산에 맞는 메뉴가 없습니다. 예산을 늘려보세요!")
    else:
        choice = random.choice(affordable_menus)
        st.success(f"추천 메뉴: {choice[0]} (예상 가격: {choice[1]}원)")
